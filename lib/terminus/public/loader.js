var JS=(typeof this.JS==='undefined')?{}:this.JS;(function(a){var b=(typeof this.global==='object')?this.global:this,c=(typeof exports==='object');if(c){exports.JS=exports;JS=exports}else{b.JS=JS}a(b,JS)})(function(p,l){'use strict';var d=function(a){d._5(this);this._0=a;this._2=new n();this._6=new n();this._e=new n();this._f=new n();this._3={};this._7={}};d.displayName='Package';d.toString=function(){return d.displayName};d.log=function(a){if(!l.debug)return;if(typeof window==='undefined')return;if(typeof p.runtime==='object')runtime.trace(a);if(p.console&&console.info)console.info(a)};var q=function(a){if(/^https?:/.test(a))return a;var b=l.WEB_ROOT;if(b)a=(b+'/'+a).replace(/\/+/g,'/');return a};var n=function(a){this._g=this.list=[];this._5={};if(!a)return;for(var b=0,c=a.length;b<c;b++)this.push(a[b])};n.prototype.push=function(a){var b=(a.id!==undefined)?a.id:a,c=this._5;if(c.hasOwnProperty(b))return;c[b]=this._g.length;this._g.push(a)};var r=d.Deferred=function(){this._h='deferred';this._i=null;this._j=[]};r.prototype.callback=function(a,b){if(this._h==='succeeded')a.call(b,this._i);else this._j.push([a,b])};r.prototype.succeed=function(a){this._h='succeeded';this._i=a;var b;while(b=this._j.shift())b[0].call(b[1],a)};d.ENV=l.ENV=p;d.onerror=function(a){throw a};d._k=function(a){d.onerror(new Error(a));};var m=d.prototype,s=[['requires','_6'],['uses','_e']],t=s.length;while(t--)(function(pair){var v=pair[0],w=pair[1];m[v]=function(){var a=arguments.length,b;for(b=0;b<a;b++)this[w].push(arguments[b]);return this}})(s[t]);m.provides=function(){var a=arguments.length,b;for(b=0;b<a;b++){this._2.push(arguments[b]);d._8(arguments[b]).pkg=this}return this};m.styling=function(){for(var a=0,b=arguments.length;a<b;a++)this._f.push(q(arguments[a]))};m.setup=function(a){this._l=a;return this};m._r=function(a,b,c){if(this._7[a])return b.call(c);var e=this._3[a]=this._3[a]||[];e.push([b,c]);this._s()};m._1=function(a){if(this._7[a])return false;this._7[a]=true;var b=this._3[a];if(!b)return true;delete this._3[a];for(var c=0,e=b.length;c<e;c++)b[c][0].call(b[c][1]);return true};m._9=function(a){if(!a&&this.__isLoaded!==undefined)return this.__isLoaded;var b=this._2.list,c=b.length,e,h;while(c--){e=b[c];h=d._4(e,this._m);if(h!==undefined)continue;if(a)return d._k('Expected package at '+this._0+' to define '+e);else return this.__isLoaded=false}return this.__isLoaded=true};m._s=function(){if(!this._1('request'))return;if(!this._9())this._t();var i=this._6.list.concat(this._e.list),g=this._a||[],j=(this._0||{}).length,k=this;d.when({load:i});d.when({complete:this._6.list},function(){d.when({complete:i,load:[this]},function(){this._1('complete')},this);var c=function(a){if(j===0)return e(a);j-=1;var b=k._0.length-j-1;d.loader.loadFile(k._0[b],c,g[b])};var e=function(a){k._m=a;if(k._l)k._l();k._9(true);k._1('load')};if(this._9()){this._1('download');return this._1('load')}if(this._0===undefined)return d._k('No load path found for '+this._2.list[0]);if(typeof this._0==='function')this._0(e);else c();if(!d.loader.loadStyle)return;var h=this._f.list,f=h.length;while(f--)d.loader.loadStyle(h[f]);this._1('download')},this)};m._t=function(){if(this._a||!(this._0 instanceof Array)||!d.loader.fetch)return;this._a=[];for(var a=0,b=this._0.length;a<b;a++)this._a[a]=d.loader.fetch(this._0[a])};m.toString=function(){return'Package:'+this._2.list.join(',')};d.when=function(a,b,c){var e=[],h={},f,i,g;for(f in a){if(!a.hasOwnProperty(f))continue;h[f]=[];i=new n(a[f]);g=i.list.length;while(g--)e.push([f,i.list[g],g])}var j=g=e.length;if(j===0)return b&&b.call(c,h);while(g--)(function(f){var k=d._b(f[1]);k._r(f[0],function(){h[f[0]][f[2]]=d._4(f[1],k._m);j-=1;if(j===0&&b)b.call(c,h)})})(e[g])};d._n=1;d._c={};d._d={};d._o=[];d._5=function(a){a.id=this._n;this._n+=1};d._p=function(a){var b=a.toString(),c=this._c[b];if(c)return c;if(typeof a==='string')a=[].slice.call(arguments);c=this._c[b]=new this(a);return c};d._b=function(a){if(typeof a!=='string')return a;var b=this._8(a);if(b.pkg)return b.pkg;var c=this._u(a);if(c)return c;var e=new this();e.provides(a);return e};d.remove=function(a){var b=this._b(a);delete this._d[a];delete this._c[b._0]};d._v=function(a,b){this._o.push([a,b])};d._u=function(e){var h=this._o,f=h.length,i,g,j;for(i=0;i<f;i++){g=h[i];if(!g[0].test(e))continue;j=g[1].from+'/'+e.replace(/([a-z])([A-Z])/g,function(a,b,c){return b+'_'+c}).replace(/\./g,'/').toLowerCase()+'.js';var k=new this([j]);k.provides(e);if(j=g[1].require)k.requires(e.replace(g[0],j));return k}return null};d._8=function(a){return this._d[a]=this._d[a]||{}};d._4=function(a,b){if(typeof a!=='string')return undefined;var c=b?{}:this._8(a);if(c.obj!==undefined)return c.obj;var e=b||this.ENV,h=a.split('.'),f;while(f=h.shift())e=e&&e[f];if(b&&e===undefined)return this._4(a);return c.obj=e};d.BrowserLoader={HOST_REGEX:/^(https?\:)?\/\/[^\/]+/i,usable:function(){return!!d._4('window.document.getElementsByTagName')&&typeof phantom==='undefined'},__FILE__:function(){var a=document.getElementsByTagName('script'),b=a[a.length-1].src,c=window.location.href;if(/^\w+\:\/+/.test(b))return b;if(/^\//.test(b))return window.location.origin+b;return c.replace(/[^\/]*$/g,'')+b},cacheBust:function(a){if(l.cache!==false)return a;var b=new Date().getTime();return a+(/\?/.test(a)?'&':'?')+b},fetch:function(a){var b=a;a=this.cacheBust(a);this.HOST=this.HOST||this.HOST_REGEX.exec(window.location.href);var c=this.HOST_REGEX.exec(a);if(!this.HOST||(c&&c[0]!==this.HOST[0]))return null;d.log('[FETCH] '+a);var e=new d.Deferred(),h=this,f=window.ActiveXObject?new ActiveXObject('Microsoft.XMLHTTP'):new XMLHttpRequest();f.open('GET',a,true);f.onreadystatechange=function(){if(f.readyState!==4)return;f.onreadystatechange=h._q;e.succeed(f.responseText+'\n//@ sourceURL='+b);f=null};f.send(null);return e},loadFile:function(c,e,h){if(!h)c=this.cacheBust(c);var f=this,i=document.getElementsByTagName('head')[0],g=document.createElement('script');g.type='text/javascript';if(h)return h.callback(function(code){d.log('[EXEC]  '+c);var j=new Function('code','eval(code)');j(code);e()});d.log('[LOAD] '+c);g.src=c;g.onload=g.onreadystatechange=function(){var a=g.readyState,b=g.status;if(!a||a==='loaded'||a==='complete'||(a===4&&b===200)){e();g.onload=g.onreadystatechange=f._q;i=null;g=null}};i.appendChild(g)},loadStyle:function(a){var b=document.createElement('link');b.rel='stylesheet';b.type='text/css';b.href=this.cacheBust(a);document.getElementsByTagName('head')[0].appendChild(b)},_q:function(){}};d.loader=d.BrowserLoader;var o={__FILE__:function(){return d.loader.__FILE__()},pkg:function(a,b){var c=b?d._p(b):d._b(a);c.provides(a);return c},file:function(a){var b=[],c=arguments.length;while(c--)b[c]=q(arguments[c]);return d._p.apply(d,b)},load:function(a,b){d.loader.loadFile(a,b)},autoload:function(a,b){d._v(a,b)}};o.files=o.file;o.loader=o.file;var x=function(a){a.call(o)};var u=function(a){var b=[],c=0;while(typeof a[c]==='string'){b.push(a[c]);c+=1}return{files:b,callback:a[c],context:a[c+1]}};l.load=function(b,c){var e=u(arguments),h=e.files.length;var f=function(a){if(a===h)return e.callback.call(e.context||null);d.loader.loadFile(e.files[a],function(){f(a+1)})};f(0)};l.require=function(){var b=u(arguments);d.when({complete:b.files},function(a){if(!b.callback)return;b.callback.apply(b.context||null,a&&a.complete)});return this};l.Package=d;l.Packages=l.packages=x;l.DSL=o});
//@ sourceMappingURL=package-browser.js.map