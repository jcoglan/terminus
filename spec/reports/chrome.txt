Run options: exclude {:requires=>#<Proc:./vendor/capybara/lib/capybara/spec/spec_helper.rb:12>}

Capybara::Session terminus
  #choose
    should choose a radio button by id
    should choose a radio button by label
    casts to string
    with a locator that doesn't exist
      should raise an error
    with a disabled radio button
      should raise an error
  #click_link_or_button
    should click on a link
    should click on a button
    should click on a button with no type attribute
    should be aliased as click_on
    should wait for asynchronous load
    casts to string
    with a locator that doesn't exist
      should raise an error
  #current_url, #current_path, #current_host
    is affected by visiting a page directly
    returns to the app host when visiting a relative url
    is affected by setting Capybara.app_host
    is unaffected by following a relative link
    is affected by following an absolute link
    is unaffected by posting through a relative form
    is affected by posting through an absolute form
    is affected by following a redirect
    is affected by pushState
    is affected by replaceState
  #has_link?
    should be true if the given link is on the page
    should be false if the given link is not on the page
  #has_no_link?
    should be false if the given link is on the page
    should be true if the given link is not on the page
  #has_table?
    should be true if the table is on the page
    should be false if the table is not on the page
  #has_no_table?
    should be false if the table is on the page
    should be true if the table is not on the page
  node
    should act like a session object
    should scope CSS selectors
    #parent
      should have a reference to its parent if there is one
    #text
      should extract node texts
      should return document text on /html selector
    #[]
      should extract node attributes
      should extract boolean node attributes
    #value
      should allow retrieval of the value
      should not swallow extra newlines in textarea
    #set
      should allow assignment of field value
    #tag_name
      should extract node tag name
    #visible?
      should extract node visibility
    #checked?
      should extract node checked state
    #selected?
      should extract node selected state
    #==
      preserve object identity (FAILED - 1)
    #trigger
      should allow triggering of custom JS events
    #drag_to
      should drag and drop an object
    #reload
      without automatic reload
        should reload the current context of the node
        should reload a parent node
        should not automatically reload
      with automatic reload
        should reload the current context of the node automatically
        should reload a parent node automatically
        should reload a node automatically when using find
        should not reload nodes which haven't been found
        should reload nodes with options
  #within
    should raise an error if the scope is not found on the page
    should restore the scope when an error is raised
    should fill in a field and click a button
    with CSS selector
      should click links in the given scope
      should assert content in the given scope
      should accept additional options
    with XPath selector
      should click links in the given scope
    with the default selector
      should use XPath
    with Node rather than selector
      should click links in the given scope
    with the default selector set to CSS
      should use CSS
    with nested scopes
      should respect the inner scope
      should respect the outer scope
  #within_fieldset
    should restrict scope to a fieldset given by id
    should restrict scope to a fieldset given by legend
  #within_table
    should restrict scope to a fieldset given by id
    should restrict scope to a fieldset given by legend
  #attach_file
    with normal form
      should set a file path by id (FAILED - 2)
      should set a file path by label (FAILED - 3)
      casts to string (FAILED - 4)
    with multipart form
      should set a file path by id (FAILED - 5)
      should set a file path by label (FAILED - 6)
      should not break if no file is submitted
      should send content type text/plain when uploading a text file (FAILED - 7)
      should send content type image/jpeg when uploading an image (FAILED - 8)
      should not break when using HTML5 multiple file input (FAILED - 9)
      should not break when using HTML5 multiple file input uploading multiple files (FAILED - 10)
    with a locator that doesn't exist
      should raise an error
    with a path that doesn't exist
      should raise an error
  #execute_script
    should execute the given script and return nothing
  #find_link
    should find any field
    casts to string
    should raise error if the field doesn't exist
  #response_headers
    should return response headers
  #has_xpath?
    should be true if the given selector is on the page
    should be false if the given selector is not on the page
    should use xpath even if default selector is CSS
    should respect scopes
    should wait for content to appear
    with count
      should be true if the content occurs the given number of times
      should be false if the content occurs a different number of times than the given
    with text
      should discard all matches where the given string is not contained
      should discard all matches where the given regexp is not matched
  #has_no_xpath?
    should be false if the given selector is on the page
    should be true if the given selector is not on the page
    should use xpath even if default selector is CSS
    should respect scopes
    should wait for content to disappear
    with count
      should be false if the content occurs the given number of times
      should be true if the content occurs a different number of times than the given
    with text
      should discard all matches where the given string is contained
      should discard all matches where the given regexp is matched
  #status_code
    should return response codes
  #has_selector?
    should be true if the given selector is on the page
    should be false if the given selector is not on the page
    should use default selector
    should respect scopes
    with count
      should be true if the content is on the page the given number of times
      should be false if the content is on the page the given number of times
      should be false if the content isn't on the page at all
    with text
      should discard all matches where the given string is not contained
      should discard all matches where the given regexp is not matched
  #has_no_selector?
    should be false if the given selector is on the page
    should be true if the given selector is not on the page
    should use default selector
    should respect scopes
    with count
      should be false if the content is on the page the given number of times
      should be true if the content is on the page the wrong number of times
      should be true if the content isn't on the page at all
    with text
      should discard all matches where the given string is contained
      should discard all matches where the given regexp is matched
  #find_by_id
    should find any element by id
    casts to string
    should raise error if no element with id is found
  #unselect
    with multiple select
      should unselect an option from a select box by id
      should unselect an option without a select box
      should unselect an option from a select box by label
      should favour exact matches to option labels
      should escape quotes
      casts to string
    with single select
      should raise an error
    with a locator that doesn't exist
      should raise an error
    with an option that doesn't exist
      should raise an error
  #has_select?
    should be true if the field is on the page
    should be false if the field is not on the page
    with selected value
      should be true if a field with the given value is on the page
      should be false if the given field is not on the page
      should be true after the given value is selected
      should be false after a different value is selected
      should be true after the given values are selected
      should be false after one of the values is unselected
    with exact options
      should be true if a field with the given options is on the page
      should be false if the given field is not on the page
    with partial options
      should be true if a field with the given partial options is on the page
      should be false if a field with the given partial options is not on the page
  #has_no_select?
    should be false if the field is on the page
    should be true if the field is not on the page
    with selected value
      should be false if a field with the given value is on the page
      should be true if the given field is not on the page
      should be false after the given value is selected
      should be true after a different value is selected
      should be false after the given values are selected
      should be true after one of the values is unselected
    with exact options
      should be false if a field with the given options is on the page
      should be true if the given field is not on the page
    with partial options
      should be false if a field with the given partial options is on the page
      should be true if a field with the given partial options is not on the page
  #click_button
    should wait for asynchronous load
    casts to string
    should serialize and send valueless buttons that were clicked
    should not send image buttons that were not clicked
    should serialize and send GET forms
    should follow redirects (FAILED - 11)
    should post pack to the same URL when no action given
    should post pack to the same URL when blank action given
    ignores disabled buttons
    should encode complex field names, like array[][value]
    with multiple values with the same name
      should use the latest given value
    with a form that has a relative url as an action
      should post to the correct url
    with a form that has no action specified
      should post to the correct url
    with value given on a submit button
      on a form with HTML5 fields
        should serialise and submit search fields
        should serialise and submit email fields
        should serialise and submit url fields
        should serialise and submit tel fields
        should serialise and submit color fields (FAILED - 12)
      on an HTML4 form
        should serialize and submit text fields
        should escape fields when submitting
        should serialize and submit password fields
        should serialize and submit hidden fields
        should not serialize fields from other forms
        should submit the button that was clicked, but not other buttons
        should serialize radio buttons
        should serialize check boxes
        should serialize text areas
        should serialize select tag with values
        should serialize select tag without values
        should serialize first option for select tag with no selection
        should not serialize a select tag without options
        should not submit disabled fields
    with id given on a submit button
      should submit the associated form
      should work with partial matches (FAILED - 13)
    with title given on a submit button
      should submit the associated form
      should work with partial matches
    with alt given on an image button
      should submit the associated form
      should work with partial matches
    with value given on an image button
      should submit the associated form
      should work with partial matches
    with id given on an image button
      should submit the associated form
    with title given on an image button
      should submit the associated form
      should work with partial matches
    with text given on a button defined by <button> tag
      should submit the associated form
      should work with partial matches
    with id given on a button defined by <button> tag
      should submit the associated form
      should serialize and send GET forms
    with value given on a button defined by <button> tag
      should submit the associated form
      should work with partial matches
    with title given on a button defined by <button> tag
      should submit the associated form
      should work with partial matches
    with a locator that doesn't exist
      should raise an error
  #find
    should find the first element using the given locator
    should find the first element using the given locator and options
    should raise an error if there are multiple matches
    should wait for asynchronous load
    should raise ElementNotFound with a useful default message if nothing was found
    should accept an XPath instance
    with frozen time
      raises an error suggesting that Capybara is stuck in time
    with css selectors
      should find the first element using the given locator
    with xpath selectors
      should find the first element using the given locator
    with custom selector
      should use the custom selector
    with custom selector with :for option
      should use the selector when it matches the :for option
    with custom selector with custom filter
      should find elements that match the filter
      should not find elements that don't match the filter
    with css as default selector
      should find the first element using the given locator
    within a scope
      should find the an element using the given locator
  #evaluate_script
    should evaluate the given script and return whatever it produces
  #html
    should return the unmodified page body (FAILED - 14)
    should return the current state of the page (FAILED - 15)
  #find_field
    should find any field
    casts to string
    should raise error if the field doesn't exist
    should be aliased as 'field_labeled' for webrat compatibility
  #has_field
    should be true if the field is on the page
    should be false if the field is not on the page
    with value
      should be true if a field with the given value is on the page
      should be false if the given field is not on the page
      should be true after the field has been filled in with the given value
      should be false after the field has been filled in with a different value
    with type
      should be true if a field with the given type is on the page
      should be false if the given field is not on the page (FAILED - 16)
  #has_no_field
    should be false if the field is on the page
    should be true if the field is not on the page
    with value
      should be false if a field with the given value is on the page
      should be true if the given field is not on the page
      should be false after the field has been filled in with the given value
      should be true after the field has been filled in with a different value
    with type
      should be false if a field with the given type is on the page
      should be true if the given field is not on the page (FAILED - 17)
  #has_checked_field?
    should be true if a checked field is on the page
    should be false if an unchecked field is on the page
    should be false if no field is on the page
    should be true after an unchecked checkbox is checked
    should be false after a checked checkbox is unchecked
    should be true after an unchecked radio button is chosen
    should be false after another radio button in the group is chosen
  #has_no_checked_field?
    should be false if a checked field is on the page
    should be true if an unchecked field is on the page
    should be true if no field is on the page
  #has_unchecked_field?
    should be false if a checked field is on the page
    should be true if an unchecked field is on the page
    should be false if no field is on the page
    should be false after an unchecked checkbox is checked
    should be true after a checked checkbox is unchecked
    should be false after an unchecked radio button is chosen
    should be true after another radio button in the group is chosen
  #has_no_unchecked_field?
    should be true if a checked field is on the page
    should be false if an unchecked field is on the page
    should be true if no field is on the page
  #has_text?
    should be true if the given text is on the page at least once
    should be true if scoped to an element which has the text
    should be false if scoped to an element which does not have the text
    should ignore tags
    should ignore extra whitespace and newlines
    should ignore whitespace and newlines in the search string
    should be false if the given text is not on the page
    should handle single quotes in the text
    should handle double quotes in the text
    should handle mixed single and double quotes in the text
    should be false if text is in the title tag in the head (FAILED - 18)
    should be false if text is inside a script tag in the body
    should be false if the given text is on the page but not visible (FAILED - 19)
    should be true if the text in the page matches given regexp
    should be false if the text in the page doesn't match given regexp
    should escape any characters that would have special meaning in a regexp
    should accept non-string parameters
    should be true when passed nil
    should wait for text to appear
  #has_no_text?
    should be false if the given text is on the page at least once
    should be false if scoped to an element which has the text
    should be true if scoped to an element which does not have the text
    should ignore tags
    should be true if the given text is not on the page
    should handle single quotes in the text
    should handle double quotes in the text
    should handle mixed single and double quotes in the text
    should be true if text is in the title tag in the head (FAILED - 20)
    should be true if text is inside a script tag in the body
    should be true if the given text is on the page but not visible (FAILED - 21)
    should be true if the text in the page doesn't match given regexp
    should be false if the text in the page  matches given regexp
    should escape any characters that would have special meaning in a regexp
    should wait for text to disappear
  #reset_session!
    removes cookies
    resets current url, host, path
    resets page body
    raises any errors caught inside the server (FAILED - 22)
  #all
    should find all elements using the given locator
    should return an empty array when nothing was found
    should accept an XPath instance
    should raise an error when given invalid options
    with css selectors
      should find all elements using the given selector
      should find all elements when given a list of selectors
    with xpath selectors
      should find the first element using the given locator
    with css as default selector
      should find the first element using the given locator
    with visible filter
      should only find visible nodes
      should only find invisible nodes
    within a scope
      should find any element using the given locator
  #save_page
    saves the page in the root directory
    generates a sensible filename
    can store files in a specified directory
    uses the given filename
    returns the filename
  #assert_selector
    should be true if the given selector is on the page
    should be false if the given selector is not on the page
    should use default selector
    should respect scopes
    with count
      should be true if the content is on the page the given number of times
      should be false if the content is on the page the given number of times
      should be false if the content isn't on the page at all
    with text
      should discard all matches where the given string is not contained
      should discard all matches where the given regexp is not matched
  #assert_no_selector
    should be false if the given selector is on the page
    should be true if the given selector is not on the page
    should use default selector
    should respect scopes
    with count
      should be false if the content is on the page the given number of times
      should be true if the content is on the page the wrong number of times
      should be true if the content isn't on the page at all
    with text
      should discard all matches where the given string is contained
      should discard all matches where the given regexp is matched
  #visit
    should fetch a response from the driver with a relative url
    should fetch a response from the driver with an absolute url with a port
    should send no referer when visiting a page (FAILED - 23)
    should send no referer when visiting a second page (FAILED - 24)
    should send a referer when following a link
    should preserve the original referer URL when following a redirect
    should send a referer when submitting a form
    when Capybara.always_include_port is true
      should fetch a response from the driver with an absolute url without a port
  #has_css?
    should be true if the given selector is on the page
    should be false if the given selector is not on the page
    should respect scopes
    should wait for content to appear
    with between
      should be true if the content occurs within the range given
      should be false if the content occurs more or fewer times than range
    with count
      should be true if the content occurs the given number of times
      should be false if the content occurs a different number of times than the given
      should coerce count to an integer
    with maximum
      should be true when content occurs same or fewer times than given
      should be false when content occurs more times than given
      should coerce maximum to an integer
    with minimum
      should be true when content occurs same or more times than given
      should be false when content occurs fewer times than given
      should coerce minimum to an integer
    with text
      should discard all matches where the given string is not contained
      should discard all matches where the given regexp is not matched
  #has_no_css?
    should be false if the given selector is on the page
    should be true if the given selector is not on the page
    should respect scopes
    should wait for content to disappear
    with between
      should be false if the content occurs within the range given
      should be true if the content occurs more or fewer times than range
    with count
      should be false if the content is on the page the given number of times
      should be true if the content is on the page the given number of times
      should coerce count to an integer
    with maximum
      should be false when content occurs same or fewer times than given
      should be true when content occurs more times than given
      should coerce maximum to an integer
    with minimum
      should be false when content occurs same or more times than given
      should be true when content occurs fewer times than given
      should coerce minimum to an integer
    with text
      should discard all matches where the given string is not contained
      should discard all matches where the given regexp is not matched
  #click_link
    should wait for asynchronous load
    casts to string
    should follow relative links
    should follow protocol relative links (FAILED - 25)
    should follow redirects
    should follow redirects
    should add query string to current URL with naked query string
    should do nothing on anchor links
    should do nothing on URL+anchor links for the same page
    should follow link on URL+anchor links for a different page
    raise an error with links with no href
    with id given
      should take user to the linked page
    with text given
      should take user to the linked page
      should accept partial matches
    with title given
      should take user to the linked page
      should accept partial matches
    with alternative text given to a contained image
      should take user to the linked page
      should accept partial matches
    with a locator that doesn't exist
      should raise an error
  #text
    should print the text of the page
    should strip whitespace (FAILED - 26)
    with css as default selector
      should print the text of the page
  #uncheck
    should uncheck a checkbox by id
    should uncheck a checkbox by label
    casts to string
  #find_button
    should find any button
    casts to string
    should raise error if the button doesn't exist
  #select
    should return value of the first option
    should return value of the selected option
    should return the value attribute rather than content if present
    should select an option from a select box by id
    should select an option from a select box by label
    should select an option without giving a select box
    should escape quotes
    should obey from
    show match labels with preceding or trailing whitespace
    casts to string
    with a locator that doesn't exist
      should raise an error
    with an option that doesn't exist
      should raise an error
    on a disabled select
      should raise an error
    with multiple select
      should return an empty value
      should return value of the selected options
      should select one option
      should select multiple options
      should remain selected if already selected
      should return value attribute rather than content if present
  #has_button?
    should be true if the given button is on the page
    should be false if the given button is not on the page
  #has_no_button?
    should be true if the given button is on the page
    should be false if the given button is not on the page
  #source
    should return the unmodified page source
    should return the original, unmodified source of the page (FAILED - 27)
  #fill_in
    should fill in a text field by id
    should fill in a text field by name
    should fill in a text field by label without for
    should fill in a url field by label without for
    should fill in a textarea by id
    should fill in a textarea by label
    should fill in a textarea by name
    should fill in a password field by id
    should fill in a field with a custom type
    should fill in a field without a type
    should fill in a text field respecting its maxlength attribute
    should fill in a password field by name
    should fill in a password field by label
    should fill in a password field by name
    should throw an exception if a hash containing 'with' is not provided
    should wait for asynchronous load
    casts to string
    on a pre-populated textfield with a reformatting onchange
      should only trigger onchange once
    with ignore_hidden_fields
      should not find a hidden field
    with a locator that doesn't exist
      should raise an error
    on a disabled field
      should raise an error
  #first
    should find the first element using the given locator
    should return nil when nothing was found
    should accept an XPath instance
    with css selectors
      should find the first element using the given selector
    with xpath selectors
      should find the first element using the given locator
    with css as default selector
      should find the first element using the given locator
    with visible filter
      should only find visible nodes if true given
      should include invisible nodes if false given
    within a scope
      should find the first element using the given locator
  #check
    should trigger associated events
    should check a checkbox by id
    should check a checkbox by label
    casts to string
    'checked' attribute
      should be true if checked
      should be false if unchecked
    checking
      should not change an already checked checkbox
      should check an unchecked checkbox
    unchecking
      should not change an already unchecked checkbox
      should uncheck a checked checkbox
    with a locator that doesn't exist
      should raise an error
    with a disabled checkbox
      should raise an error
  #body
    should return the unmodified page body
    encoding of response between ascii and utf8
      should be valid with html entities
      should be valid without html entities

Failures:

  1) Capybara::Session terminus node#== preserve object identity
     Failure/Error: (@session.find('//h1') == @session.find('//h1')).should be_true
     NoMethodError:
       undefined method `native' for <Terminus::Node szrir70vc5oi2193isht054vctx1wo1uoi1>:Terminus::Node
     # ./vendor/capybara/lib/capybara/node/element.rb:40:in `block in native'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:40:in `native'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:455:in `=='
     # ./vendor/capybara/lib/capybara/spec/session/node_spec.rb:107:in `block (3 levels) in <top (required)>'

  2) Capybara::Session terminus#attach_file with normal form should set a file path by id
     Failure/Error: @session.attach_file "form_image", __FILE__
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:11:in `block (3 levels) in <top (required)>'

  3) Capybara::Session terminus#attach_file with normal form should set a file path by label
     Failure/Error: @session.attach_file "Image", __FILE__
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:17:in `block (3 levels) in <top (required)>'

  4) Capybara::Session terminus#attach_file with normal form casts to string
     Failure/Error: @session.attach_file :"form_image", __FILE__
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:23:in `block (3 levels) in <top (required)>'

  5) Capybara::Session terminus#attach_file with multipart form should set a file path by id
     Failure/Error: @session.attach_file "form_document", @test_file_path
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:31:in `block (3 levels) in <top (required)>'

  6) Capybara::Session terminus#attach_file with multipart form should set a file path by label
     Failure/Error: @session.attach_file "Single Document", @test_file_path
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:37:in `block (3 levels) in <top (required)>'

  7) Capybara::Session terminus#attach_file with multipart form should send content type text/plain when uploading a text file
     Failure/Error: @session.attach_file "Single Document", @test_file_path
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:48:in `block (3 levels) in <top (required)>'

  8) Capybara::Session terminus#attach_file with multipart form should send content type image/jpeg when uploading an image
     Failure/Error: @session.attach_file "Single Document", @test_jpg_file_path
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:54:in `block (3 levels) in <top (required)>'

  9) Capybara::Session terminus#attach_file with multipart form should not break when using HTML5 multiple file input
     Failure/Error: @session.attach_file "Multiple Documents", @test_file_path
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:60:in `block (3 levels) in <top (required)>'

  10) Capybara::Session terminus#attach_file with multipart form should not break when using HTML5 multiple file input uploading multiple files
     Failure/Error: @session.attach_file "Multiple Documents", [@test_file_path, @another_test_file_path]
     Capybara::NotSupportedByDriverError:
       Capybara::NotSupportedByDriverError
     # ./lib/terminus/node.rb:52:in `set'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `block in set'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:79:in `set'
     # ./vendor/capybara/lib/capybara/node/actions.rb:144:in `attach_file'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:68:in `block (3 levels) in <top (required)>'

  11) Capybara::Session terminus#click_button should follow redirects
     Failure/Error: @session.current_url.should match(%r{/landed$})
       expected "http://127.0.0.1:57457/form" to match /\/landed$/
     # ./vendor/capybara/lib/capybara/spec/session/click_button_spec.rb:289:in `block (2 levels) in <top (required)>'

  12) Capybara::Session terminus#click_button with value given on a submit button on a form with HTML5 fields should serialise and submit color fields
     Failure/Error: @results['html5_color'].should == '#FFFFFF'
       expected: "#FFFFFF"
            got: "#ffffff" (using ==)
     # ./vendor/capybara/lib/capybara/spec/session/click_button_spec.rb:66:in `block (4 levels) in <top (required)>'

  13) Capybara::Session terminus#click_button with id given on a submit button should work with partial matches
     Failure/Error: @session.should have_content('You landed')
       expected #has_content?("You landed") to return true, got false
     # ./vendor/capybara/lib/capybara/spec/session/click_button_spec.rb:149:in `block (3 levels) in <top (required)>'

  14) Capybara::Session terminus#html should return the unmodified page body
     Failure/Error: @session.html.should include('Hello world!')
     NotImplementedError:
       NotImplementedError
     # ./vendor/capybara/lib/capybara/driver/base.rb:19:in `html'
     # ./vendor/capybara/lib/capybara/session.rb:106:in `html'
     # ./vendor/capybara/lib/capybara/spec/session/html_spec.rb:7:in `block (2 levels) in <top (required)>'

  15) Capybara::Session terminus#html should return the current state of the page
     Failure/Error: @session.html.should include('I changed it')
     NotImplementedError:
       NotImplementedError
     # ./vendor/capybara/lib/capybara/driver/base.rb:19:in `html'
     # ./vendor/capybara/lib/capybara/session.rb:106:in `html'
     # ./vendor/capybara/lib/capybara/spec/session/html_spec.rb:12:in `block (2 levels) in <top (required)>'

  16) Capybara::Session terminus#has_field with type should be false if the given field is not on the page
     Failure/Error: @session.should_not have_field('Description', :type => '')
     Terminus::ObsoleteElementError:
       Terminus::ObsoleteElementError
     # ./lib/terminus/browser.rb:51:in `ask'
     # ./lib/terminus/node.rb:87:in `block (2 levels) in <class:Node>'
     # ./vendor/capybara/lib/capybara/node/element.rb:61:in `block in []'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:61:in `[]'
     # ./vendor/capybara/lib/capybara/selector.rb:82:in `block (2 levels) in <top (required)>'
     # ./vendor/capybara/lib/capybara/query.rb:45:in `call'
     # ./vendor/capybara/lib/capybara/query.rb:45:in `block (2 levels) in matches_filters?'
     # ./vendor/capybara/lib/capybara/query.rb:44:in `each'
     # ./vendor/capybara/lib/capybara/query.rb:44:in `block in matches_filters?'
     # ./vendor/capybara/lib/capybara/node/base.rb:103:in `unsynchronized'
     # ./vendor/capybara/lib/capybara/query.rb:38:in `matches_filters?'
     # ./vendor/capybara/lib/capybara/result.rb:10:in `block in initialize'
     # ./vendor/capybara/lib/capybara/result.rb:10:in `select'
     # ./vendor/capybara/lib/capybara/result.rb:10:in `initialize'
     # ./vendor/capybara/lib/capybara/node/finders.rb:118:in `new'
     # ./vendor/capybara/lib/capybara/node/finders.rb:118:in `all'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:85:in `block in assert_selector'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:84:in `assert_selector'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:35:in `has_selector?'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:308:in `has_field?'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/has_field_spec.rb:50:in `block (3 levels) in <top (required)>'

  17) Capybara::Session terminus#has_no_field with type should be true if the given field is not on the page
     Failure/Error: @session.should have_no_field('Description', :type => '')
     Terminus::ObsoleteElementError:
       Terminus::ObsoleteElementError
     # ./lib/terminus/browser.rb:51:in `ask'
     # ./lib/terminus/node.rb:87:in `block (2 levels) in <class:Node>'
     # ./vendor/capybara/lib/capybara/node/element.rb:61:in `block in []'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/element.rb:61:in `[]'
     # ./vendor/capybara/lib/capybara/selector.rb:82:in `block (2 levels) in <top (required)>'
     # ./vendor/capybara/lib/capybara/query.rb:45:in `call'
     # ./vendor/capybara/lib/capybara/query.rb:45:in `block (2 levels) in matches_filters?'
     # ./vendor/capybara/lib/capybara/query.rb:44:in `each'
     # ./vendor/capybara/lib/capybara/query.rb:44:in `block in matches_filters?'
     # ./vendor/capybara/lib/capybara/node/base.rb:103:in `unsynchronized'
     # ./vendor/capybara/lib/capybara/query.rb:38:in `matches_filters?'
     # ./vendor/capybara/lib/capybara/result.rb:10:in `block in initialize'
     # ./vendor/capybara/lib/capybara/result.rb:10:in `select'
     # ./vendor/capybara/lib/capybara/result.rb:10:in `initialize'
     # ./vendor/capybara/lib/capybara/node/finders.rb:118:in `new'
     # ./vendor/capybara/lib/capybara/node/finders.rb:118:in `all'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:101:in `block in assert_no_selector'
     # ./vendor/capybara/lib/capybara/node/base.rb:77:in `synchronize'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:100:in `assert_no_selector'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:49:in `has_no_selector?'
     # ./vendor/capybara/lib/capybara/node/matchers.rb:322:in `has_no_field?'
     # ./vendor/capybara/lib/capybara/session.rb:343:in `block (2 levels) in <class:Session>'
     # ./vendor/capybara/lib/capybara/spec/session/has_field_spec.rb:103:in `block (3 levels) in <top (required)>'

  18) Capybara::Session terminus#has_text? should be false if text is in the title tag in the head
     Failure/Error: @session.should_not have_text('with_js')
       expected #has_text?("with_js") to return false, got true
     # ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:63:in `block (2 levels) in <top (required)>'

  19) Capybara::Session terminus#has_text? should be false if the given text is on the page but not visible
     Failure/Error: @session.should_not have_text('Inside element with hidden ancestor')
       expected #has_text?("Inside element with hidden ancestor") to return false, got true
     # ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:74:in `block (2 levels) in <top (required)>'

  20) Capybara::Session terminus#has_no_text? should be true if text is in the title tag in the head
     Failure/Error: @session.should have_no_text('with_js')
       expected #has_no_text?("with_js") to return true, got false
     # ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:161:in `block (2 levels) in <top (required)>'

  21) Capybara::Session terminus#has_no_text? should be true if the given text is on the page but not visible
     Failure/Error: @session.should have_no_text('Inside element with hidden ancestor')
       expected #has_no_text?("Inside element with hidden ancestor") to return true, got false
     # ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:172:in `block (2 levels) in <top (required)>'

  22) Capybara::Session terminus#reset_session! raises any errors caught inside the server
     Failure/Error: expect do
       expected TestApp::TestAppError but nothing was raised
     # ./vendor/capybara/lib/capybara/spec/session/reset_session_spec.rb:35:in `block (2 levels) in <top (required)>'

  23) Capybara::Session terminus#visit should send no referer when visiting a page
     Failure/Error: @session.should have_content 'No referer'
       expected #has_content?("No referer") to return true, got false
     # ./vendor/capybara/lib/capybara/spec/session/visit_spec.rb:48:in `block (2 levels) in <top (required)>'

  24) Capybara::Session terminus#visit should send no referer when visiting a second page
     Failure/Error: @session.should have_content 'No referer'
       expected #has_content?("No referer") to return true, got false
     # ./vendor/capybara/lib/capybara/spec/session/visit_spec.rb:54:in `block (2 levels) in <top (required)>'

  25) Capybara::Session terminus#click_link should follow protocol relative links
     Failure/Error: @session.should have_content('Another World')
       expected #has_content?("Another World") to return true, got false
     # ./vendor/capybara/lib/capybara/spec/session/click_link_spec.rb:77:in `block (2 levels) in <top (required)>'

  26) Capybara::Session terminus#text should strip whitespace
     Failure/Error: /\ADuis aute .* text with whitespace .* est laborum\.\z/
       expected: /\ADuis aute .* text with whitespace .* est laborum\.\z/
            got: "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum\n  dolore eu fugiat Redirect pariatur. Excepteur sint occaecat cupidatat non proident,\n  sunt in culpa qui officia\n  text   with  \n  whitespace\n  id est laborum." (using =~)
       Diff:
       @@ -1,2 +1,7 @@
       -/\ADuis aute .* text with whitespace .* est laborum\.\z/
       +Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
       +  dolore eu fugiat Redirect pariatur. Excepteur sint occaecat cupidatat non proident,
       +  sunt in culpa qui officia
       +  text   with  
       +  whitespace
       +  id est laborum.
     # ./vendor/capybara/lib/capybara/spec/session/text_spec.rb:20:in `block (2 levels) in <top (required)>'

  27) Capybara::Session terminus#source should return the original, unmodified source of the page
     Failure/Error: @session.send(method).should include('This is text')
     ArgumentError:
       wrong number of arguments(0 for 1)
     # ./vendor/capybara/lib/capybara/spec/session/source_spec.rb:9:in `method'
     # ./vendor/capybara/lib/capybara/spec/session/source_spec.rb:9:in `block (2 levels) in <top (required)>'

Finished in 7 minutes 30.28 seconds
483 examples, 27 failures

Failed examples:

rspec ./vendor/capybara/lib/capybara/spec/session/node_spec.rb:106 # Capybara::Session terminus node#== preserve object identity
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:10 # Capybara::Session terminus#attach_file with normal form should set a file path by id
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:16 # Capybara::Session terminus#attach_file with normal form should set a file path by label
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:22 # Capybara::Session terminus#attach_file with normal form casts to string
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:30 # Capybara::Session terminus#attach_file with multipart form should set a file path by id
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:36 # Capybara::Session terminus#attach_file with multipart form should set a file path by label
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:47 # Capybara::Session terminus#attach_file with multipart form should send content type text/plain when uploading a text file
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:53 # Capybara::Session terminus#attach_file with multipart form should send content type image/jpeg when uploading an image
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:59 # Capybara::Session terminus#attach_file with multipart form should not break when using HTML5 multiple file input
rspec ./vendor/capybara/lib/capybara/spec/session/attach_file_spec.rb:66 # Capybara::Session terminus#attach_file with multipart form should not break when using HTML5 multiple file input uploading multiple files
rspec ./vendor/capybara/lib/capybara/spec/session/click_button_spec.rb:287 # Capybara::Session terminus#click_button should follow redirects
rspec ./vendor/capybara/lib/capybara/spec/session/click_button_spec.rb:65 # Capybara::Session terminus#click_button with value given on a submit button on a form with HTML5 fields should serialise and submit color fields
rspec ./vendor/capybara/lib/capybara/spec/session/click_button_spec.rb:147 # Capybara::Session terminus#click_button with id given on a submit button should work with partial matches
rspec ./vendor/capybara/lib/capybara/spec/session/html_spec.rb:2 # Capybara::Session terminus#html should return the unmodified page body
rspec ./vendor/capybara/lib/capybara/spec/session/html_spec.rb:10 # Capybara::Session terminus#html should return the current state of the page
rspec ./vendor/capybara/lib/capybara/spec/session/has_field_spec.rb:47 # Capybara::Session terminus#has_field with type should be false if the given field is not on the page
rspec ./vendor/capybara/lib/capybara/spec/session/has_field_spec.rb:100 # Capybara::Session terminus#has_no_field with type should be true if the given field is not on the page
rspec ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:61 # Capybara::Session terminus#has_text? should be false if text is in the title tag in the head
rspec ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:72 # Capybara::Session terminus#has_text? should be false if the given text is on the page but not visible
rspec ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:159 # Capybara::Session terminus#has_no_text? should be true if text is in the title tag in the head
rspec ./vendor/capybara/lib/capybara/spec/session/has_text_spec.rb:170 # Capybara::Session terminus#has_no_text? should be true if the given text is on the page but not visible
rspec ./vendor/capybara/lib/capybara/spec/session/reset_session_spec.rb:34 # Capybara::Session terminus#reset_session! raises any errors caught inside the server
rspec ./vendor/capybara/lib/capybara/spec/session/visit_spec.rb:46 # Capybara::Session terminus#visit should send no referer when visiting a page
rspec ./vendor/capybara/lib/capybara/spec/session/visit_spec.rb:51 # Capybara::Session terminus#visit should send no referer when visiting a second page
rspec ./vendor/capybara/lib/capybara/spec/session/click_link_spec.rb:75 # Capybara::Session terminus#click_link should follow protocol relative links
rspec ./vendor/capybara/lib/capybara/spec/session/text_spec.rb:16 # Capybara::Session terminus#text should strip whitespace
rspec ./vendor/capybara/lib/capybara/spec/session/source_spec.rb:7 # Capybara::Session terminus#source should return the original, unmodified source of the page
